package lecture;

/**
 * 4 醫낅쪟�쓽 愿꾪샇臾몄옄�뱾 '()', '[]', '{}', '<>' 濡� �씠猷⑥뼱吏� 臾몄옄�뿴�씠 二쇱뼱吏꾨떎.
�씠 臾몄옄�뿴�뿉 �궗�슜�맂 愿꾪샇�뱾�쓽 吏앹씠 紐⑤몢 留욌뒗吏� �뙋蹂꾪븯�뒗 �봽濡쒓렇�옩�쓣 �옉�꽦�븳�떎.
�삁瑜� �뱾�뼱 �븘�옒�� 媛숈� 臾몄옄�뿴�� �쑀�슚�븯�떎怨� �뙋�떒�븷 �닔 �엳�떎.
�븘�옒�� 媛숈� 臾몄옄�뿴�� �쑀�슚�븯吏� �븡�� 臾몄옄�뿴�씠�떎. 遺됱��깋�쑝濡� �몴�떆�맂 愿꾪샇�쓽 吏앹쓣 李얠쓣 �닔 �뾾湲� �븣臾몄씠�떎.
�븘�옒 臾몄옄�뿴�� �뿴怨� �떕�뒗 愿꾪샇�쓽 媛쒖닔�뒗 �쑀�슚�븯�굹 吏앹씠 留욎� �븡�뒗 愿꾪샇媛� �궗�슜 �릺�뿀湲� �븣臾몄뿉 �쑀�슚�븯吏� �븡�떎.

[�엯�젰]
媛� �뀒�뒪�듃 耳��씠�뒪�쓽 泥� 踰덉㎏ 以꾩뿉�뒗 �뀒�뒪�듃耳��씠�뒪�쓽 湲몄씠媛� 二쇱뼱吏�硫�, 諛붾줈 �떎�쓬 以꾩뿉 �뀒�뒪�듃 耳��씠�뒪媛� 二쇱뼱吏꾨떎.
珥� 10媛쒖쓽 �뀒�뒪�듃耳��씠�뒪媛� 二쇱뼱吏꾨떎.

[異쒕젰]
#遺��샇�� �븿猿� �뀒�뒪�듃 耳��씠�뒪�쓽 踰덊샇瑜� 異쒕젰�븯怨�, 怨듬갚 臾몄옄 �썑 �쑀�슚�꽦 �뿬遺�瑜� 1 �삉�뒗 0�쑝濡� �몴�떆�븳�떎 (1 - �쑀�슚�븿, 0 - �쑀�슚�븯吏� �븡�쓬).

[寃곌낵]
#1 1
#2 0
#3 1
#4 1
#5 1
#6 0
#7 0
#8 1
#9 0
#10 1

=============================
1. data input
2. 愿꾪샇 ���옣�븷 Stack �깮�꽦
3. �엯�젰�맂 臾몄옄�뿴�쓽 湲몄씠留뚰겮 泥섎━
	3-1. �븳湲��옄 爰쇰궡�꽌
	-> �뿬�뒗 愿꾪샇�씠硫� �씪�떒 ���옣
	-> �떕�뒗 愿꾪샇�씠硫�   吏앷퓤泥댄겕
	(�뒪�깮�씠 鍮꾩뼱 �엳�뒗吏�, �뒪�깮�쓽 湲��옄�� 吏앷퓤)
4. �뒪�깮�뿉 媛믪씠 �궓�븘 �엳�떎硫� err

�룞�씪 湲곕뒫 硫붿냼�뱶 �꽕紐�
:version up�뿉 �뵲瑜� 硫붿냼�뱶 �씠由� �넻�씪, or �긽�냽
 */



import java.io.BufferedReader;
import java.io.FileReader;
import java.io.InputStreamReader;
import java.io.StringReader;
import java.util.Stack;


public class SW1218_ParenthesisStack {
	public static void main(String[] args) throws Exception{
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		//br = new BufferedReader(new StringReader(src));
		
		int Answer;
		for(int tc = 1; tc <= 10; tc++)	{	
			
			Answer = 1;
			int N = Integer.parseInt(br.readLine().trim());//tc 湲몄씠
			
			String line = br.readLine();//�븳以�
			int length = line.length();//臾몄옄�뿴 湲몄씠
			
			Stack<Character> stack = new Stack<Character>();
			
			if(length % 2 == 1) {//臾몄옄�뿴 湲몄씠媛� ���닔 -->吏앹씠 �븞留욎쓬
				Answer = 0;
				
			}else {//吏앹닔媛�
				for (int i = 0 ; i < length; i++) {//臾몄옄�뿴 湲몄씠 留뚰겮 議곗궗
					char ch = line.charAt(i);//�븳湲��옄 爰쇰궡怨�
					
					if(ch=='{' || ch=='(' || ch=='[' || ch=='<') {//�뿬�뒗 愿꾪샇�뱾
						stack.push(ch);
						
					}else {//�떕�뒗 愿꾪샇�뱾
						char pair = getPair(ch);						
						if(stack.pop() != pair) {//�뒪�깮�씠 鍮꾩뼱 �엳嫄곕굹 �뒪�깮�뿉�꽌 爰쇰궦 媛믨낵 吏앹씠 �븞留욎쑝硫�
						//	if(stack.isEmpty() || stack.pop() != pair) {
							Answer = 0;
							break;
						}
					}
				}//for
				
				//臾몄옄�뿴 湲몄씠�뒗 吏앹닔吏�留� �뒪�깮�뿉�꽌 �떎 爰쇰궦 �썑�뿉�룄 �뜲�씠�꽣媛� �궓�븘 �엳�쑝硫�
				if(!stack.isEmpty()) {
					Answer=0;
				}
			}//else
			
			System.out.print("#"+tc+" "+Answer);
			System.out.println();
		}
	}
	
	//ch�� 吏앹씠 �릺�뒗 ���쓳�릺�뒗 愿꾪샇瑜� 由ы꽩�빐 以�
	public static char getPair(char ch) {
		switch (ch) {
			case '}':	return '{';
			case ')':	return '(';
			case ']':	return '[';
			case '>':	return '<';
		}
		return ' ';
	}
	
	static String result= "#1 1\r\n" + 
			"#2 0\r\n" + 
			"#3 1\r\n" + 
			"#4 1\r\n" + 
			"#5 1\r\n" + 
			"#6 0\r\n" + 
			"#7 0\r\n" + 
			"#8 1\r\n" + 
			"#9 0\r\n" + 
			"#10 1\r\n" + 
			"";
	 
	static String src = "182\r\n" +
			"(({<(({{[[[[<<[[(<[[{([{{{[<[[[{<<(<[[{}[]{}{}[]]]><><>{})[]{}><>[]<>><>}][]]<>{}]>]()}()()(){}}}{}][])(){}<>()}]{}[]]>()[][][]){}]]{}[]<>><>{}[]{}<>>]]]][]{}{}[]()}}))>}<>{}()))[][]\r\n" +
			"298\r\n" +
			"{({{[({([{(<[([(([<({[{{[[({{[({([<{(<[[(<((<[{[<[([((<{{[([{<<[{(<({[<{}()>[]<>][]})>[])<>()[]}]>><>(){}()[]}]{}()<>[]<>)<>{}<>{}{}]}()}<>>)[]){}])]>[][]{}]()}][]()>[]))[]>)]][]>)[]{}}[]<><>>]()[])}{}){}]}}<><>){}][]{}{}]<>[]}(){}<>}][]})[]()><>]))])]>{}{}())}{}])<>}{})]{}{}}[])())<>{}[]<><>}[]{}\r\n" +
			"230\r\n" +
			"[({([<[<[<<(([{([<((({<{([{[<[<<<([<[<([[{([<[{({([<(<[[][]]<>{}<>[]>){}{}<>>]{}())})}[]]{}>[][][]]()[][]<><>()<>){}}]])[][][]>]>()](){}[])>>><><>{}]>]{}[]}<>][]())}[][]>}<>)()))>{}[]()])[][]}]<>()<>))>>()][]>][][]>]())}<><>{}<>)]\r\n" +
			"226\r\n" +
			"[[[{{[[<[([((([({{[{<<([[[([[{<[{{<{[<[([<<<((([{(<({<([(<><>){}])()[]>}<>())>){}}]))){}>()<><>>>[]]<>)]>]{}()}(){}>()<><>}}]()>}<>{}]])<>{}]()(){}][]()])[]{}(){}<>>[]>}{}{}](){}}})()])(){}<>))][])[]()<>]<><>>]()][]{}}}[]]]]()\r\n" +
			"242\r\n" +
			"((([<[{{<[<{<{({(({({({<{{{((([{[({[{<{{(([[{([{<<({<[]>}){}[]()()>>}[][]()][]<>){}<>}]]))}[]}()><>[]}(){}]()[][][]})]<>}{}<>](){}){}){})<><><>{}<>[]}}<>{}{}}{}[]>{}}(){}){}<>})}))[]})()}>[]{}{}()}>]>{}[][][][]}}][][][]{}<>>][])()[]))()()[]{}\r\n" +
			"138\r\n" +
			"{[<(({[{(({[(({{{]{<[([[({[[[[<>]]]{}]{}})]]()<>{}{}<>()<>)()<>{}[]<>]>{}})<>()<><><>}{}}}())){}]}))}()<>()[]{}]})<><><><>)>[][][]]}<>[]{}\r\n" +
			"238\r\n" +
			"{<[[({[([{{(({{((<({(<{{([<{<([((<<(<{[<<([{{[<[{<{{{[<[{<{[[]]}()[][]}()}]>]}{}{}}<>[]<>{}(){}}>}]{}{}><>[]]}[]{}()[]{}}]{}())()<><>()>>]()<>}>{}[])<>()>>()))()])>{}}>])}{}{}}>)()<>[]}){}>)<>)()}}())){}<>()}[][]}]){}<>[]<>]}[])]()]()>}<>\r\n" +
			"272\r\n" +
			"([{[<[[([([{[[([[({([(<[[[<{(({<([{([{<{[<<((({(<{<[({<{<<([[{<[[{{[<(([{}])<>)[]>]()<>}<>}[]]]{}()>}][]]{})<>{}[]>>}>{}<>}{})()]<>><>}[][]>)<>{}}[]<>))){}[]>>[]]}[]>}][])[]}]())>[]{}{}}[]{}))}>(){}[]{}]<>{}]]()>)<><><><>[]])}{})[]()]])]]}])<>][]{}<>)()]<><>()]>]<>}<>()])\r\n" +
			"218\r\n" +
			"[{({[<{[<{[[[<[{[[[[{([{[<[[<<[{{((<[([[<[(<[({}[]<>[]()[]()(){}){})<>()>[][]<>[])<><>[](){}[]{}<>]><>]])]>[]){}<>)[][]}}<><>()<>]<>><>{}>[]<>]{}]>]<>}]{}())[]}[]]<>]]]}]()>]<>(){}]()<>()]()}>{}<>]{}}>]()[]()[]})()}]()\r\n" +
			"258\r\n" +
			"({{[({<{<<{{([[<{({{{[[({[<(<{<<{<<{{{{([{[{<{{[<<[[[<[{<(<[({(<>)})]><>[])()>{}}[]]{}<>><>]]]<>>{}>]}{}[]}>}]<>[]}]){}<>{}}[]}}}{}<>>>}>[]><><>()<>[]}><>)><><><>]}){}]]<>[]<>}[]<>{}}}()<>)}<>{}[]>][]{}])<>[][]{}}()}>[]<>>}<><>>()}{}<><>[]()())<>]}{}{}[]}[])\r\n" +
			"";
}


//BY DG


